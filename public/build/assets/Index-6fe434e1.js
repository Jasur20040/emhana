import{A as y}from"./AdminLayout-b08816a1.js";import{L as k,H as x,l as C,r as c,o as a,a as d,e as _,g as r,F as h,b as t,f as L,j as B,m as A,p as D,d as T,t as m,h as P,w as f,i as b}from"./app-a2b0c081.js";import{P as V}from"./Pagination-a98712ec.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";const N={components:{AdminLayout:y,Link:k,Pagination:V,Head:x},props:["clientMaket"],data(){return{loading:0,filter:{id:route().params.id?route().params.id:null}}},methods:{destroy(){this.$inertia.get("/destroy/clientsImages")},download(o,n){C.get(`/admin/download?url=/storage/${o}`,{responseType:"blob"}).then(l=>{const u=window.URL.createObjectURL(new Blob([l.data])),s=document.createElement("a");s.href=u,s.setAttribute("download",n+".png"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}).catch(l=>{console.error("An error occurred:",l)})},deleteData(o){Swal.fire({title:"Жоюға сенімдісіз бе?",text:"Қайтып қалпына келмеуі мүмкін!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Иә, жоямын!",cancelButtonText:"Жоқ"}).then(n=>{n.isConfirmed&&this.$inertia.delete(route("admin.clientMaket.destroy",o))})},search(){this.loading=1;const o=this.clearParams(this.filter);this.$inertia.get(route("admin.clientMaket.index"),o)}}},M=t("head",null,[t("title",null,"Админ панель | Жасалған шақырулар")],-1),S={class:"row mb-2"},U=t("div",{class:"col-sm-6"},[t("h1",{class:"m-0"},"Жасалған шақырулар")],-1),j={class:"col-sm-6"},E={class:"breadcrumb float-sm-right"},F={class:"breadcrumb-item"},H=["href"],K=t("i",{class:"fas fa-dashboard"},null,-1),R=b(" Басты бет "),z=[K,R],O=t("li",{class:"breadcrumb-item active"}," Жасалған шақырулар ",-1),$={class:"buttons d-flex align-items-center"},q=t("i",{class:"fa fa-trash"},null,-1),G=b(" Фильтрді тазалау "),J={key:0,class:"spinner-border text-primary mx-3",role:"status"},Q=t("span",{class:"sr-only"},"Loading...",-1),W=[Q],X={class:"container-fluid"},Y={class:"card"},Z={class:"card-body"},tt={class:"row"},et={class:"col-sm-12"},st={class:"table table-hover table-bordered table-striped dataTable dtr-inline"},ot=t("tr",{role:"row"},[t("th",null,"ID"),t("th",null,"Суреті"),t("th",null,"Датасы"),t("th",null,"Әрекет")],-1),nt={class:"filters"},lt={style:"width: 150px;"},it=t("td",null,null,-1),at=t("td",null,null,-1),dt=t("td",null,null,-1),rt=t("td",null,null,-1),ct=["src"],_t={class:"btn-group btn-group-sm"},ut=["onClick"],ht=t("i",{class:"fas fa-times"},null,-1),mt=[ht],ft=["onClick"],bt=t("i",{class:"fas fa-solid fa-download"},null,-1),pt=[bt];function gt(o,n,l,u,s,i){const p=c("Link"),g=c("Pagination"),v=c("AdminLayout");return a(),d(h,null,[M,_(v,null,{breadcrumbs:r(()=>[t("div",S,[U,t("div",j,[t("ol",E,[t("li",F,[t("a",{href:o.route("admin.index")},z,8,H)]),O])])])]),header:r(()=>[t("div",$,[_(p,{class:"btn btn-danger mr-3",href:o.route("admin.clientMaket.index")},{default:r(()=>[q,G]),_:1},8,["href"]),s.loading?(a(),d("div",J,W)):L("",!0)])]),default:r(()=>[t("div",X,[t("div",Y,[t("div",Z,[t("div",tt,[t("div",et,[t("table",st,[t("thead",null,[ot,t("tr",nt,[t("td",lt,[B(t("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>s.filter.id=e),class:"form-control",placeholder:"ID",onKeyup:n[1]||(n[1]=D((...e)=>i.search&&i.search(...e),["enter"]))},null,544),[[A,s.filter.id]])]),it,at,dt,rt])]),t("tbody",null,[(a(!0),d(h,null,T(l.clientMaket.data,(e,vt)=>(a(),d("tr",{class:"odd",key:"clientMaket"+e.id},[t("td",null,m(e.id),1),t("td",null,[t("img",{src:"/storage/"+e.client_maket,class:"img-fluid",style:P(["max-width: 300px"])},null,8,ct)]),t("td",null,m(e.upload_date),1),t("td",null,[t("div",_t,[t("button",{onClick:f(w=>i.deleteData(e.id),["prevent"]),class:"btn btn-danger",title:"Жою"},mt,8,ut),t("button",{onClick:f(w=>i.download(e.client_maket,e.id),["prevent"]),class:"btn btn-success",title:"Жүктеу"},pt,8,ft)])])]))),128))])])])]),_(g,{links:l.clientMaket.links},null,8,["links"])])])])]),_:1})],64)}const Ct=I(N,[["render",gt]]);export{Ct as default};
